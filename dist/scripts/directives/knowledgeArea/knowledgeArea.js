"use strict";angular.module("sbAdminApp").directive("knowledgeArea",function(){return{templateUrl:"scripts/directives/knowledgeArea/knowledgeArea.html",restrict:"E",replace:!0,scope:{name:"@"},controller:function($scope){$scope["count_ka_"+$scope.name]=0,$("#list"+$scope.name).collapse(),$scope.delete_knowledge_area=function(name){$("#ka_"+name).parent().remove();var index=$.inArray(name.toLowerCase(),$scope.$parent.list_knowledge_areas);if(-1!=index){$scope.$parent.list_knowledge_areas=$.grep($scope.$parent.list_knowledge_areas,function(value){return value!=name.toLowerCase()});for(var key in $scope.$parent.list_answer_options)key.indexOf("ka_"+name)>-1&&($scope.$parent.list_answer_options=$.grep($scope.$parent.list_answerOptions,function(value){return value!=$scope.$parent.list_answer_options[key]}))}}}}}).directive("addKnowledgeArea",function(){return function(scope,element,attrs){element.bind("click",function(){var name=angular.element(document.getElementById("txt_knowledge_area")).val();scope.add_knowledge_area(name)})}});