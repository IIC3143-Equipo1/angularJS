"use strict";angular.module("sbAdminApp").directive("knowledgeArea",function(){return{templateUrl:"scripts/directives/knowledgeArea/knowledgeArea.html",restrict:"E",replace:!0,scope:{name:"@"},controller:function($scope){$scope["count-ka-"+$scope.name]=0,$("#accordion"+$scope.name).collapse(),$scope.deleteKnowledgeArea=function(name){$("#ka-"+name).parent().remove();var index=$.inArray(name.toLowerCase(),$scope.$parent.listKnowledgeAreas);if(-1!=index){$scope.$parent.listKnowledgeAreas=$.grep($scope.$parent.listKnowledgeAreas,function(value){return value!=name.toLowerCase()});for(var key in $scope.$parent.listAnswerOptions)key.indexOf("ka-"+name)>-1&&($scope.$parent.listAnswerOptions=$.grep($scope.$parent.listAnswerOptions,function(value){return value!=$scope.$parent.listAnswerOptions[key]}))}}}}}).directive("addKnowledgeArea",function(){return function(scope,element,attrs){element.bind("click",function(){var name=angular.element(document.getElementById("txtApKnowledgeArea")).val();scope.addKnowledgeArea(name)})}});